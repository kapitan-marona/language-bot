
diff --git a/handlers/chat/chat_handler.py b/handlers/chat/chat_handler.py
index 1234567..abcdef0 100644
--- a/handlers/chat/chat_handler.py
+++ b/handlers/chat/chat_handler.py
@@ def handle_message(update: Update, context: ContextTypes.DEFAULT_TYPE):
     system_prompt = get_system_prompt(style)
+    print("üì• [System Prompt]:", system_prompt)  # –æ—Ç–ª–∞–¥–∫–∞

     messages = [{"role": "system", "content": system_prompt}] + history + [{"role": "user", "content": user_input}]
     assistant_reply = await ask_gpt(messages)
     print("üí¨ [GPT] –û—Ç–≤–µ—Ç:", repr(assistant_reply))

     history.append({"role": "user", "content": user_input})
     history.append({"role": "assistant", "content": assistant_reply})

     if len(history) > MAX_HISTORY_LENGTH:
         history.pop(0)

     if mode == "voice":
+        await update.message.reply_text(assistant_reply)  # üí¨ –î—É–±–ª–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞
         voice_path = synthesize_voice(assistant_reply, LANGUAGE_CODES.get(target_lang, "en-US"), level)
         print("üîä [TTS] –§–∞–π–ª –æ–∑–≤—É—á–∫–∏:", voice_path)
         print("üìÅ –§–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:", os.path.exists(voice_path))
         try:
             with open(voice_path, "rb") as vf:
                 await context.bot.send_voice(chat_id=chat_id, voice=vf)
         except Exception as e:
             print(f"[–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≥–æ–ª–æ—Å–∞] {e}")
     else:
         await update.message.reply_text(assistant_reply)

diff --git a/components/voice.py b/components/voice.py
index 1111111..2222222 100644
--- a/components/voice.py
+++ b/components/voice.py
@@ import tempfile
+import subprocess

@@ def synthesize_voice(text: str, language_code: str, level: str) -> str:
         with tempfile.NamedTemporaryFile(delete=False, suffix=".ogg") as out_file:
             out_file.write(response.content)
             out_path = out_file.name

+        # üîß –ü–µ—Ä–µ–∫–æ–¥–∏—Ä–æ–≤–∫–∞ —á–µ—Ä–µ–∑ ffmpeg –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
+        fixed_path = out_path.replace(".ogg", "_fixed.ogg")
+        subprocess.run(["ffmpeg", "-y", "-i", out_path, "-c:a", "libopus", fixed_path], check=True)
+        return fixed_path

         return out_path
